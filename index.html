window.TrelloPowerUp.initialize({
    'card-buttons': function (t, opts) {
        return [{
            icon: ICON_URL,
            text: 'Ingresar Datos',
            callback: function (t) {
                return t.popup({
                    title: "Ingresar Datos",
                    url: t.signUrl('popup.html')
                });
            }
        }];
    },

    'card-back-section': function (t, opts) {
        return t.get('member', 'private', 'isAdmin', false)
            .then(function (isAdmin) {
                if (isAdmin) {
                    return {
                        title: 'Datos de la Tarjeta',
                        icon: ICON_URL,
                        content: {
                            type: 'iframe',
                            url: t.signUrl('datos.html')
                        }
                    };
                }
                return null; // ðŸ”¥ IMPORTANTE: Asegurar que no devuelve undefined
            });
    }
});
